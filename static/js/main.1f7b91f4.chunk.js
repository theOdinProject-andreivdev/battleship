(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n(1),y=n.n(a),c=n(4),r=n.n(c),i=(n(14),n(15),n(5)),s=n(6),p=n(8),u=n(7),x={HEAD:"H",BODY:"B",NOT_DEFINED:"_",HIT:"X",AIR:" "},f=function(){for(var t=[],e=[],n=9;n>=0;n--){for(var o=[],a=0;a<10;a++)o.push({x:a,y:n,type:x.NOT_DEFINED});t.push(o)}var y=function(n){var o=!0,a=!1;n.getBlocks().forEach((function(t){t.forEach((function(t){(t.x<0||t.x>9||t.y<0||t.y>9)&&(t.type!==x.HEAD&&t.type!==x.BODY||(a=!0,o=!1))}))}));var y=!1;return t.forEach((function(t){t.forEach((function(t){n.getBlocks().forEach((function(e){e.forEach((function(e){t.x===e.x&&t.y===e.y&&(t.type!==x.HEAD&&t.type!==x.BODY||e.type!==x.HEAD&&e.type!==x.BODY||(y=!0,o=!1))}))}))}))})),!1===a&&!1===y&&(e.push(n),c()),o},c=function(){e.forEach((function(e){t.forEach((function(t){t.forEach((function(t){e.getBlocks().forEach((function(e){e.forEach((function(e){t.x===e.x&&t.y===e.y&&(e.type!==x.HEAD&&e.type!==x.BODY&&e.type!==x.HIT||(t.type=e.type))}))}))}))}))}))},r=function(n){e.forEach((function(e){e===n&&t.forEach((function(t){t.forEach((function(t){e.getBlocks().forEach((function(e){e.forEach((function(e){t.x===e.x&&t.y===e.y&&(t.type!==x.BODY&&t.type!==x.HEAD||e.type!==x.BODY&&e.type!==x.HEAD||(e=null,t.type=x.NOT_DEFINED))}))}))}))}))}));for(var o=0;o<e.length;o++)e[o].head===n.head&&e.splice(o,1)};return{boardSize:10,getBlocks:function(){return[].concat(t)},addPlane:y,removePlane:r,getPlanes:function(){return e},rotate:function(t){return r(t),t.rotate(),y(t)},hit:function(n){var o=n.x,a=n.y;e.forEach((function(t){t.hit({x:o,y:a})})),t.forEach((function(t){t.forEach((function(t){t.x===parseInt(o)&&t.y===parseInt(a)&&(t.type=x.HIT)}))})),c()},movePlane:function(n,o){var a,y=n.x,r=n.y,i=o.x,s=o.y,p=i-y,u=s-r,f=!0;e.forEach((function(t){t.getBlocks().forEach((function(e){e.forEach((function(e){e.x===parseInt(y)&&e.y===parseInt(r)&&(a=t)}))}))})),void 0!==a&&(a.getBlocks().forEach((function(e){e.forEach((function(e){!(e.x+p<0||e.x+p>t.length-1||e.y+u<0||e.y+u>t.length-1)||e.type!==x.BODY&&e.type!==x.HEAD||(f=!1)}))})),f&&(t.forEach((function(t){t.forEach((function(t){a.getBlocks().forEach((function(e){e.forEach((function(e){t.x===e.x&&t.y===e.y&&(t.type=x.NOT_DEFINED)}))}))}))})),a.move(p,u),c()))}}},l=function(t){var e={x:t.x,y:t.y},n=!1,o=[[{x:e.x-1,y:e.y,type:x.NOT_DEFINED},{x:e.x,y:e.y,type:x.HEAD},{x:e.x+1,y:e.y,type:x.NOT_DEFINED},{x:e.x+2,y:e.y,type:x.NOT_DEFINED}],[{x:e.x-1,y:e.y+1,type:x.BODY},{x:e.x,y:e.y+1,type:x.BODY},{x:e.x+1,y:e.y+1,type:x.BODY},{x:e.x+2,y:e.y+1,type:x.NOT_DEFINED}],[{x:e.x-1,y:e.y+2,type:x.NOT_DEFINED},{x:e.x,y:e.y+2,type:x.BODY},{x:e.x+1,y:e.y+2,type:x.NOT_DEFINED},{x:e.x+2,y:e.y+2,type:x.NOT_DEFINED}],[{x:e.x-1,y:e.y+3,type:x.BODY},{x:e.x,y:e.y+3,type:x.BODY},{x:e.x+1,y:e.y+3,type:x.BODY},{x:e.x+2,y:e.y+3,type:x.NOT_DEFINED}]];return{head:e,getBlocks:function(){return o},hit:function(t){var a=t.x,y=t.y;n=!0;var c=!1;a==e.x&&y==e.y&&(c=!0),o.forEach((function(t){t.forEach((function(t){t.x==a&&t.y==y&&(t.type=x.HIT),c&&t.type!==x.NOT_DEFINED&&(t.type=x.HIT),t.type!==x.HEAD&&t.type!==x.BODY||(n=!1)}))}))},rotate:function(){for(var t=[[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}]],n=0;n<o.length;n++)for(var a=0;a<o.length;a++)t[n][a].x=o[n][a].x,t[n][a].y=o[n][a].y,t[n][a].type=o[o.length-a-1][n].type,t[n][a].type===x.HEAD&&(e={x:t[n][a].x,y:t[n][a].y});o.splice.apply(o,[0,o.length].concat(t))},getDead:function(){return n},blockType:x,move:function(t,e){for(var n=[[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}],[{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0},{x:0,y:0,type:0}]],a=0;a<o.length;a++)for(var y=0;y<o.length;y++)n[a][y].x=o[a][y].x+parseInt(t),n[a][y].y=o[a][y].y+parseInt(e),n[a][y].type=o[a][y].type;o.splice.apply(o,[0,o.length].concat(n))}}};var h=function(t){var e="",n=t.block;switch(t.block.type){case"H":e="btn-primary","H";break;case"B":e="btn-secondary","B";break;case"_":e="btn-light","_";break;case"X":e="btn-danger","X"}return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"".concat(e," ").concat(n.x," ").concat(n.y),style:{width:"30px",height:"30px",border:"1px solid black",margin:"0px"},"data-x":n.x,"data-y":n.y})})},d=n(3),g=n.n(d),E={selecting:1,moving:2,movingout:3,movingin:4,dropped:5};var v=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;Object(i.a)(this,n),o=e.call(this,t),console.log("Load UI"),o.gameBoard=f(),o.state={status:E.selecting,gameBoardGrid:o.gameBoard.getBlocks(),moveOrigin:{x:0,y:0}};var a=l({x:2,y:2});o.gameBoard.addPlane(a);var y=l({x:5,y:5});return o.gameBoard.addPlane(y),o}return Object(s.a)(n,[{key:"onBlockClick",value:function(t){t.preventDefault(),console.log(t.button)}},{key:"mouseDown",value:function(t){this.state.status!==E.selecting&&this.state.status!==E.dropped||(console.log("down"),this.setState({status:E.moving}),this.forceUpdate())}},{key:"mouseLeave",value:function(t){this.state.status!==E.moving&&this.state.status!==E.movingin||null!==t.target.dataset.x&&null!==t.target.dataset.y&&(console.log("leave"),this.setState({status:E.movingout}),this.setState({moveOrigin:{x:t.target.dataset.x,y:t.target.dataset.y}}),this.forceUpdate())}},{key:"mouseEnter",value:function(t){if(this.state.status===E.movingout){if(console.log("enter"),null!=t.target.dataset.x&&null!=t.target.dataset.y){var e=t.target.dataset.x,n=t.target.dataset.y;console.log(this.state.moveOrigin),console.log("destx:"+e+" desty:"+n),this.gameBoard.movePlane(this.state.moveOrigin,{x:e,y:n})}this.setState({gameBoardGrid:this.gameBoard.getBlocks()}),this.setState({status:E.movingin}),this.forceUpdate()}}},{key:"mouseUp",value:function(t){console.log("up"),this.setState({status:E.dropped})}},{key:"render",value:function(){var t=this;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"card",children:Object(o.jsx)("div",{className:"card-body",children:this.state.gameBoardGrid.map((function(e){return Object(o.jsx)("div",{className:"row p-0 m-0",children:e.map((function(e){return Object(o.jsx)("div",{className:"col-auto p-0 m-0",onClick:t.onBlockClick.bind(t),onMouseDown:t.mouseDown.bind(t),onMouseLeave:t.mouseLeave.bind(t),onMouseOver:t.mouseEnter.bind(t),onMouseUp:t.mouseUp.bind(t),children:Object(o.jsx)(h,{block:e})},g()())}))},g()())}))})})})})}}]),n}(a.Component);var D=function(){return Object(o.jsx)(v,{})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,o=e.getFID,a=e.getFCP,y=e.getLCP,c=e.getTTFB;n(t),o(t),a(t),y(t),c(t)}))};r.a.render(Object(o.jsx)(y.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.1f7b91f4.chunk.js.map