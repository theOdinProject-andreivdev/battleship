{"version":3,"sources":["util/blockType.js","components/Gameboard.js","components/Plane.js","ui/BlockUI.js","util/gameStatus.js","ui/GameboardUI.js","App.js","index.js"],"names":["blockType","HEAD","BODY","NOT_DEFINED","HIT","HITMISS","Gameboard","blocks","planes","i","boardSize","row","j","push","x","y","type","selectedPlane","updateBoard","getBlocks","forEach","b","plane","pb","tmpblocks","br","block","addPlane","success","getPlanes","rotate","eachPlane","eachpb","otherPlane","otherpb","length","hit","hitx","hity","parseInt","moveSelectedPlane","xorg","yorg","xdest","ydest","xdelta","ydelta","movable","undefined","everyPlane","epb","move","moveOrigin","selectPlane","newSelectedPlane","getSelectedPlane","Plane","head","dead","getHead","headHit","splice","getDead","BlockUI","props","blocktype","visible","className","style","border","margin","width","height","data-x","data-y","gameStatus","selecting","moving","movingout","movingin","dropped","hitting","locked","hideen","touchSelecting","touchDropped","GameboardUI","computeAndDeclareWinner","winner","anyPlaneAlive","gameBoard","pubsub","publish","createRandomPlanes","index","Math","floor","random","sqrt","planeSet","state","status","boardType","gameBoardGrid","clicks","clickdelay","mounted","lastmove","unsubscribe","subscribe","data","setState","unhitBlocks","randomBlockIndex","alreadyHit","this","prevProps","e","target","dataset","is_touch_device","setTimeout","bind","mouseClick","forceUpdate","destx","desty","console","log","document","elementFromPoint","changedTouches","pageX","pageY","window","onTouchMove","touchMove","position","display","gridTemplateRows","gridTemplateColumns","map","onMouseDown","mouseDown","onMouseLeave","mouseLeave","onMouseOver","mouseEnter","onMouseUp","mouseUp","onTouchStart","touchStart","onTouchEnd","touchEnd","uniqid","Component","App","onPlayClick","board2Status","board1Status","onPlayAgain","location","reload","PubSub","role","textAlign","onClick","marginLeft","marginRight","marginTop","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43a3f9e2.chunk.js","sourcesContent":["const blockType = {\n  HEAD: \"H\",\n  BODY: \"B\",\n  NOT_DEFINED: \"_\",\n  HIT: \"X\",\n  HITMISS: \"Y\",\n};\n\nexport default blockType;\n","import { publish } from \"pubsub-js\";\nimport blockType from \"../util/blockType\";\nconst Gameboard = () => {\n  const boardSize = 10;\n  let blocks = [];\n  let planes = [];\n\n  for (let i = boardSize - 1; i >= 0; i--) {\n    let row = [];\n    for (let j = 0; j < boardSize; j++) {\n      row.push({ x: j, y: i, type: blockType.NOT_DEFINED });\n    }\n    blocks.push(row);\n  }\n\n  const addPlane = (plane) => {\n    let success = true;\n    plane.getBlocks().forEach((pb) => {\n      if (\n        pb.x < 0 ||\n        pb.x > boardSize - 1 ||\n        pb.y < 0 ||\n        pb.y > boardSize - 1\n      ) {\n        if (pb.type === blockType.HEAD || pb.type === blockType.BODY) {\n          success = false;\n        }\n      }\n    });\n\n    getBlocks().forEach((b) => {\n      plane.getBlocks().forEach((pb) => {\n        if (b.x === pb.x && b.y === pb.y) {\n          if (\n            (b.type === blockType.HEAD || b.type === blockType.BODY) &&\n            (pb.type === blockType.HEAD || pb.type === blockType.BODY)\n          ) {\n            success = false;\n          }\n        }\n      });\n    });\n\n    if (success) {\n      planes.push(plane);\n      updateBoard();\n    }\n    return success;\n  };\n\n  const updateBoard = () => {\n    getBlocks().forEach((b) => {\n      if (b.type !== blockType.HITMISS) b.type = blockType.NOT_DEFINED;\n    });\n\n    planes.forEach((plane) => {\n      getBlocks().forEach((b) => {\n        plane.getBlocks().forEach((pb) => {\n          if (b.x === pb.x && b.y === pb.y) {\n            if (\n              (pb.type === blockType.HEAD || pb.type === blockType.BODY) &&\n              b.type === blockType.NOT_DEFINED\n            )\n              b.type = pb.type;\n\n            if (\n              pb.type === blockType.HITMISS &&\n              b.type === blockType.NOT_DEFINED\n            )\n              b.type = blockType.HITMISS;\n\n            if (pb.type === blockType.HIT && b.type === blockType.NOT_DEFINED)\n              b.type = blockType.HIT;\n\n            if (pb.type === blockType.HIT && b.type === blockType.HITMISS)\n              b.type = blockType.HIT;\n          }\n        });\n      });\n    });\n  };\n\n  let moveOrigin = { x: 0, y: 0 };\n\n  let selectedPlane;\n\n  const selectPlane = ({ x: xorg, y: yorg }) => {\n    let newSelectedPlane;\n    planes.forEach((plane) => {\n      plane.getBlocks().forEach((pb) => {\n        if (pb.x === parseInt(xorg) && pb.y === parseInt(yorg))\n          newSelectedPlane = plane;\n      });\n    });\n\n    if (newSelectedPlane !== selectedPlane && newSelectedPlane !== undefined) {\n      selectedPlane = newSelectedPlane;\n    }\n  };\n\n  const moveSelectedPlane = ({ x: xorg, y: yorg }, { x: xdest, y: ydest }) => {\n    let xdelta = xdest - xorg;\n    let ydelta = ydest - yorg;\n\n    let movable = true;\n\n    if (selectedPlane !== undefined) {\n      selectedPlane.getBlocks().forEach((pb) => {\n        if (\n          (pb.x + xdelta < 0 ||\n            pb.x + xdelta > blocks.length - 1 ||\n            pb.y + ydelta < 0 ||\n            pb.y + ydelta > blocks.length - 1) &&\n          (pb.type === blockType.BODY || pb.type === blockType.HEAD)\n        ) {\n          movable = false;\n        }\n      });\n\n      planes.forEach((everyPlane) => {\n        if (everyPlane !== selectedPlane) {\n          everyPlane.getBlocks().forEach((epb) => {\n            selectedPlane.getBlocks().forEach((pb) => {\n              if (\n                (epb.type === blockType.HEAD || epb.type === blockType.BODY) &&\n                (pb.type === blockType.HEAD || pb.type === blockType.BODY)\n              ) {\n                if (epb.x === pb.x + xdelta && epb.y === pb.y + ydelta)\n                  movable = false;\n              }\n            });\n          });\n        }\n      });\n\n      if (movable) {\n        getBlocks().forEach((b) => {\n          selectedPlane.getBlocks().forEach((pb) => {\n            if (b.x === pb.x && b.y === pb.y) b.type = blockType.NOT_DEFINED;\n          });\n        });\n\n        selectedPlane.move(xdelta, ydelta);\n        updateBoard();\n      }\n    }\n  };\n\n  const rotate = (plane) => {\n    plane.rotate();\n\n    planes.forEach((eachPlane) => {\n      eachPlane.getBlocks().forEach((eachpb) => {\n        planes.forEach((otherPlane) => {\n          if (eachPlane !== otherPlane)\n            otherPlane.getBlocks().forEach((otherpb) => {\n              if (\n                eachpb.x === otherpb.x &&\n                eachpb.y === otherpb.y &&\n                ((eachpb.type === blockType.BODY &&\n                  otherpb.type === blockType.BODY) ||\n                  (eachpb.type === blockType.HEAD &&\n                    otherpb.type === blockType.HEAD) ||\n                  (eachpb.type === blockType.HEAD &&\n                    otherpb.type === blockType.BODY) ||\n                  (eachpb.type === blockType.BODY &&\n                    otherpb.type === blockType.HEAD))\n              ) {\n                plane.rotate();\n                plane.rotate();\n                plane.rotate();\n              }\n            });\n        });\n      });\n    });\n\n    plane.getBlocks().forEach((pb) => {\n      if (\n        (pb.x < 0 ||\n          pb.x > blocks.length - 1 ||\n          pb.y < 0 ||\n          pb.y > blocks.length - 1) &&\n        (pb.type === blockType.BODY || pb.type === blockType.HEAD)\n      ) {\n        plane.rotate();\n        plane.rotate();\n        plane.rotate();\n      }\n    });\n\n    updateBoard();\n  };\n\n  const getBlocks = () => {\n    let tmpblocks = [];\n\n    blocks.forEach((br) => {\n      br.forEach((block) => {\n        tmpblocks.push(block);\n      });\n    });\n\n    return [...tmpblocks];\n  };\n\n  const getPlanes = () => {\n    return planes;\n  };\n\n  const getSelectedPlane = () => {\n    return selectedPlane;\n  };\n  const hit = ({ x: hitx, y: hity }) => {\n    getBlocks().forEach((b) => {\n      if (b.x === parseInt(hitx) && b.y === parseInt(hity)) {\n        b.type = blockType.HITMISS;\n      }\n    });\n\n    planes.forEach((plane) => {\n      plane.hit({ x: hitx, y: hity });\n    });\n\n    updateBoard();\n  };\n\n  return {\n    boardSize,\n    getBlocks,\n    addPlane,\n    getPlanes,\n    rotate,\n    hit,\n    moveSelectedPlane,\n    moveOrigin,\n    selectPlane,\n    getSelectedPlane,\n  };\n};\n\nexport default Gameboard;\n","import blockType from \"../util/blockType\";\n\nconst Plane = ({ x: headx, y: heady }) => {\n  let head = { x: headx, y: heady };\n  let dead = false;\n\n  let blocks = [\n    [\n      { x: head.x - 1, y: head.y, type: blockType.NOT_DEFINED },\n      { x: head.x, y: head.y, type: blockType.HEAD },\n      { x: head.x + 1, y: head.y, type: blockType.NOT_DEFINED },\n      { x: head.x + 2, y: head.y, type: blockType.NOT_DEFINED },\n    ],\n    [\n      { x: head.x - 1, y: head.y - 1, type: blockType.BODY },\n      { x: head.x, y: head.y - 1, type: blockType.BODY },\n      { x: head.x + 1, y: head.y - 1, type: blockType.BODY },\n      { x: head.x + 2, y: head.y - 1, type: blockType.NOT_DEFINED },\n    ],\n    [\n      { x: head.x - 1, y: head.y - 2, type: blockType.NOT_DEFINED },\n      { x: head.x, y: head.y - 2, type: blockType.BODY },\n      { x: head.x + 1, y: head.y - 2, type: blockType.NOT_DEFINED },\n      { x: head.x + 2, y: head.y - 2, type: blockType.NOT_DEFINED },\n    ],\n    [\n      { x: head.x - 1, y: head.y - 3, type: blockType.BODY },\n      { x: head.x, y: head.y - 3, type: blockType.BODY },\n      { x: head.x + 1, y: head.y - 3, type: blockType.BODY },\n      { x: head.x + 2, y: head.y - 3, type: blockType.NOT_DEFINED },\n    ],\n  ];\n\n  const hit = ({ x: hitx, y: hity }) => {\n    let headHit = false;\n    if (parseInt(hitx) === head.x && parseInt(hity) === head.y) headHit = true;\n\n    getBlocks().forEach((block) => {\n      if (block.x === parseInt(hitx) && block.y === parseInt(hity)) {\n        if (block.type === blockType.BODY || block.type === blockType.HEAD)\n          block.type = blockType.HIT;\n      }\n      if (headHit && block.type === blockType.BODY) block.type = blockType.HIT;\n    });\n\n    dead = true;\n\n    getBlocks().forEach((block) => {\n      if (block.type === blockType.HEAD || block.type === blockType.BODY)\n        dead = false;\n    });\n  };\n\n  const rotate = () => {\n    let tmpblocks = [\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n    ];\n\n    for (let i = 0; i < blocks.length; i++) {\n      for (let j = 0; j < blocks.length; j++) {\n        tmpblocks[i][j].x = blocks[i][j].x;\n        tmpblocks[i][j].y = blocks[i][j].y;\n        tmpblocks[i][j].type = blocks[blocks.length - j - 1][i].type;\n      }\n    }\n    blocks.splice(0, blocks.length, ...tmpblocks);\n\n    getBlocks().forEach((block) => {\n      if (block.type === blockType.HEAD) head = { x: block.x, y: block.y };\n    });\n  };\n\n  const move = (xdelta, ydelta) => {\n    let tmpblocks = [\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n      [\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n        { x: 0, y: 0, type: 0 },\n      ],\n    ];\n\n    for (let i = 0; i < blocks.length; i++) {\n      for (let j = 0; j < blocks.length; j++) {\n        tmpblocks[i][j].x = blocks[i][j].x + parseInt(xdelta);\n        tmpblocks[i][j].y = blocks[i][j].y + parseInt(ydelta);\n        tmpblocks[i][j].type = blocks[i][j].type;\n      }\n    }\n\n    blocks.splice(0, blocks.length, ...tmpblocks);\n\n    getBlocks().forEach((block) => {\n      if (block.type === blockType.HEAD) head = { x: block.x, y: block.y };\n    });\n  };\n\n  const getDead = () => {\n    return dead;\n  };\n\n  const getHead = () => {\n    return head;\n  };\n\n  const getBlocks = () => {\n    let tmpblocks = [];\n\n    blocks.forEach((br) => {\n      br.forEach((block) => {\n        tmpblocks.push(block);\n      });\n    });\n\n    return [...tmpblocks];\n  };\n  return { getHead, getBlocks, hit, rotate, getDead, blockType, move };\n};\n\nexport default Plane;\n","import blockType from \"../util/blockType\";\n\nfunction BlockUI(props) {\n  let blocktype = \"\";\n  let block = props.block;\n  switch (props.block.type) {\n    case \"H\":\n      blocktype = \"btn-primary\";\n      break;\n    case \"B\":\n      blocktype = \"btn-secondary\";\n      break;\n    case \"_\":\n      blocktype = \"btn-light\";\n      break;\n    case \"X\":\n      blocktype = \"btn-danger\";\n      break;\n    case \"Y\":\n      blocktype = \"btn-warning\";\n      break;\n    default:\n      break;\n  }\n\n  if (\n    props.visible === false &&\n    props.block.type !== blockType.HIT &&\n    props.block.type !== blockType.HITMISS\n  )\n    blocktype = \"btn-light\";\n\n  return (\n    <div\n      className={`${blocktype} ${block.x} ${block.y}`}\n      style={{\n        border: \"1px solid darkgrey\",\n        margin: \"0px\",\n        width: \"100%\",\n        height: \"100%\",\n      }}\n      data-x={block.x}\n      data-y={block.y}\n    ></div>\n  );\n}\n\nexport default BlockUI;\n","const gameStatus = {\n  selecting: 1,\n  moving: 2,\n  movingout: 3,\n  movingin: 4,\n  dropped: 5,\n  hitting: 6,\n  locked: 7,\n  hideen: 8,\n  touchSelecting: 9,\n  touchDropped: 10,\n};\n\nexport default gameStatus;\n","import Gameboard from \"../components/Gameboard\";\nimport Plane from \"../components/Plane\";\nimport BlockUI from \"./BlockUI\";\nimport uniqid from \"uniqid\";\nimport { Component } from \"react\";\nimport gameStatus from \"../util/gameStatus\";\nimport blockType from \"../util/blockType\";\n\nclass GameboardUI extends Component {\n  constructor(props) {\n    super(props);\n    this.gameBoard = Gameboard();\n    this.state = {\n      status: props.gameStatus,\n      visible: props.visible,\n      boardType: props.boardType,\n      gameBoardGrid: this.gameBoard.getBlocks(),\n    };\n\n    this.clicks = 0;\n    this.clickdelay = 400;\n    this.mounted = false;\n    this.lastmove = null;\n\n    this.createRandomPlanes();\n\n    this.pubsub = props.pubsub;\n\n    if (this.state.boardType === \"ai\") {\n      this.pubsub.unsubscribe(\"player\");\n      this.pubsub.subscribe(\"player\", (data) => {\n        if (data === \"playerdidhit\") {\n          this.setState({ status: gameStatus.locked });\n          this.pubsub.publish(\"ai\", \"aitriggerhit\");\n        }\n        if (data === \"aididhit\") {\n          this.setState({ status: gameStatus.hitting });\n        }\n      });\n    }\n\n    if (this.state.boardType === \"player\") {\n      this.pubsub.unsubscribe(\"ai\");\n      this.pubsub.subscribe(\"ai\", (data) => {\n        if (data === \"aitriggerhit\") {\n          let unhitBlocks = [];\n\n          this.gameBoard.getBlocks().forEach((block) => {\n            if (\n              block.type !== blockType.HIT &&\n              block.type !== blockType.HITMISS\n            )\n              unhitBlocks.push(block);\n          });\n\n          let randomBlockIndex = Math.floor(Math.random() * unhitBlocks.length);\n          this.alreadyHit = false;\n          this.gameBoard.getBlocks().forEach((block) => {\n            if (\n              block.x === unhitBlocks[randomBlockIndex].x &&\n              block.y === unhitBlocks[randomBlockIndex].y\n            ) {\n              this.gameBoard.hit({\n                x: block.x,\n                y: block.y,\n              });\n              this.pubsub.publish(\"player\", \"aididhit\");\n            }\n          });\n\n          this.computeAndDeclareWinner(\"ai\");\n\n          if (this.mounted)\n            this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n        }\n      });\n    }\n  }\n\n  computeAndDeclareWinner = (winner) => {\n    let anyPlaneAlive = false;\n    this.gameBoard.getPlanes().forEach((plane) => {\n      if (plane.getDead() === false) {\n        anyPlaneAlive = true;\n      }\n    });\n    if (!anyPlaneAlive) this.pubsub.publish(\"gameEvent\", `${winner}win`);\n  };\n\n  createRandomPlanes = () => {\n    let planes = [];\n    let index = 0;\n\n    while (index < 3) {\n      planes[index] = Plane({\n        x: Math.floor(\n          Math.random() * Math.sqrt(this.gameBoard.getBlocks().length)\n        ),\n        y: Math.floor(\n          Math.random() * Math.sqrt(this.gameBoard.getBlocks().length)\n        ),\n      });\n      let planeSet = false;\n      while (planeSet === false) {\n        planes[index] = null;\n        planes[index] = Plane({\n          x: Math.floor(\n            Math.random() * Math.sqrt(this.gameBoard.getBlocks().length)\n          ),\n          y: Math.floor(\n            Math.random() * Math.sqrt(this.gameBoard.getBlocks().length)\n          ),\n        });\n        planeSet = this.addPlane(planes[index]);\n\n        for (let i = 0; i < Math.random() * 2; i++)\n          this.gameBoard.rotate(planes[index]);\n      }\n      index++;\n    }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.gameStatus !== this.props.gameStatus) {\n      this.setState({ status: this.props.gameStatus });\n    }\n  }\n\n  addPlane = (plane) => {\n    return this.gameBoard.addPlane(plane);\n  };\n\n  mouseClick(e) {\n    if (this.state.status === gameStatus.locked) return;\n\n    this.gameBoard.hit({\n      x: e.target.dataset.x,\n      y: e.target.dataset.y,\n    });\n\n    this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n    if (this.state.boardType === \"ai\") {\n      this.pubsub.publish(\"player\", \"playerdidhit\");\n      this.computeAndDeclareWinner(\"player\");\n    }\n  }\n\n  mouseDown(e) {\n    if (this.is_touch_device()) return;\n    if (this.state.status === gameStatus.locked) return;\n    if (\n      this.state.status === gameStatus.selecting ||\n      this.state.status === gameStatus.dropped\n    ) {\n      this.clicks++;\n      setTimeout(\n        function () {\n          this.clicks = 0;\n        }.bind(this),\n        this.clickdelay\n      );\n\n      if (this.clicks === 2) {\n        this.gameBoard.selectPlane({\n          x: e.target.dataset.x,\n          y: e.target.dataset.y,\n        });\n\n        this.gameBoard.rotate(this.gameBoard.getSelectedPlane());\n        this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n        this.clicks = 0;\n        return;\n      } else {\n        this.setState({ status: gameStatus.moving });\n        this.gameBoard.selectPlane({\n          x: e.target.dataset.x,\n          y: e.target.dataset.y,\n        });\n        this.gameBoard.moveOrigin = {\n          x: e.target.dataset.x,\n          y: e.target.dataset.y,\n        };\n      }\n    }\n    if (this.state.status === gameStatus.hitting) this.mouseClick(e);\n  }\n\n  mouseLeave(e) {\n    if (this.is_touch_device()) return;\n    if (this.state.status === gameStatus.locked) return;\n    if (\n      this.state.status === gameStatus.moving ||\n      this.state.status === gameStatus.movingin\n    ) {\n      if (e.target.dataset.x !== null && e.target.dataset.y !== null) {\n        this.setState({ status: gameStatus.movingout });\n\n        this.gameBoard.moveOrigin = {\n          x: e.target.dataset.x,\n          y: e.target.dataset.y,\n        };\n      }\n      this.forceUpdate();\n    }\n  }\n\n  mouseEnter(e) {\n    if (this.is_touch_device()) return;\n    if (this.state.status === gameStatus.locked) return;\n    if (this.state.status === gameStatus.movingout) {\n      if (e.target.dataset.x != null && e.target.dataset.y != null) {\n        let destx = e.target.dataset.x;\n        let desty = e.target.dataset.y;\n\n        this.gameBoard.moveSelectedPlane(this.gameBoard.moveOrigin, {\n          x: destx,\n          y: desty,\n        });\n      }\n\n      this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n      this.setState({ status: gameStatus.movingin });\n      this.forceUpdate();\n    }\n  }\n\n  mouseUp(e) {\n    if (this.is_touch_device()) return;\n    if (this.state.status === gameStatus.locked) return;\n    if (this.state.status !== gameStatus.hitting) {\n      this.setState({ status: gameStatus.dropped });\n    }\n  }\n\n  touchStart(e) {\n    console.log(this.state.status);\n    this.lastmove = e;\n    if (this.state.status === gameStatus.locked) return;\n    if (this.state.status === gameStatus.selecting)\n      if (e.target.dataset !== undefined) {\n        this.clicks++;\n        setTimeout(\n          function () {\n            this.clicks = 0;\n          }.bind(this),\n          this.clickdelay\n        );\n\n        if (this.clicks === 2) {\n          this.gameBoard.selectPlane({\n            x: e.target.dataset.x,\n            y: e.target.dataset.y,\n          });\n\n          if (this.gameBoard.getSelectedPlane() !== undefined)\n            this.gameBoard.rotate(this.gameBoard.getSelectedPlane());\n          this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n          this.clicks = 0;\n        } else {\n          const block = document.elementFromPoint(\n            e.changedTouches[0].pageX,\n            e.changedTouches[0].pageY\n          );\n          this.gameBoard.selectPlane({\n            x: e.target.dataset.x,\n            y: e.target.dataset.y,\n          });\n          this.gameBoard.moveOrigin = {\n            x: block.dataset.x,\n            y: block.dataset.y,\n          };\n        }\n      }\n    if (this.state.status === gameStatus.hitting) {\n      this.mouseClick(e);\n    }\n  }\n\n  touchMove(e) {\n    this.lastmove = e;\n  }\n\n  touchEnd(e) {\n    if (this.state.status === gameStatus.selecting) {\n      const block = document.elementFromPoint(\n        this.lastmove.changedTouches[0].pageX,\n        this.lastmove.changedTouches[0].pageY\n      );\n\n      console.log(block.dataset.x + \" \" + block.dataset.y);\n      if (e.target.dataset.x !== undefined) {\n        if (\n          block.dataset.x >= 0 &&\n          block.dataset.x < 10 &&\n          block.dataset.y >= 0 &&\n          block.dataset.y < 10\n        )\n          this.gameBoard.moveSelectedPlane(this.gameBoard.moveOrigin, {\n            x: block.dataset.x,\n            y: block.dataset.y,\n          });\n      }\n      this.setState({ gameBoardGrid: this.gameBoard.getBlocks() });\n\n      this.forceUpdate();\n    }\n  }\n\n  is_touch_device() {\n    return \"ontouchstart\" in window;\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div\n          onTouchMove={this.touchMove.bind(this)}\n          className=\"card\"\n          style={{\n            width: \"240px\",\n            height: \"240px\",\n          }}\n        >\n          <div\n            className=\"card-body\"\n            style={{\n              position: \"relative\",\n              display: \"grid\",\n              gridTemplateRows: \"repeat(10, 20px)\",\n              gridTemplateColumns: \"repeat(10, 20px)\",\n            }}\n          >\n            {this.state.gameBoardGrid.map((block) => {\n              return (\n                <div\n                  className=\"box\"\n                  key={uniqid()}\n                  onMouseDown={this.mouseDown.bind(this)}\n                  onMouseLeave={this.mouseLeave.bind(this)}\n                  onMouseOver={this.mouseEnter.bind(this)}\n                  onMouseUp={this.mouseUp.bind(this)}\n                  onTouchStart={this.touchStart.bind(this)}\n                  onTouchEnd={this.touchEnd.bind(this)}\n                >\n                  <BlockUI block={block} visible={this.state.visible} />\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameboardUI;\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport GameboardUI from \"./ui/GameboardUI\";\nimport gameStatus from \"./util/gameStatus\";\nimport PubSub from \"PubSub\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    console.log(\"startup\");\n    this.board1Status = gameStatus.selecting;\n    this.board2Status = gameStatus.locked;\n    this.winner = \"\";\n\n    this.pubsub = new PubSub();\n\n    this.pubsub.subscribe(\"gameEvent\", (data) => {\n      if (data === \"playerwin\") {\n        this.winner = \"player\";\n        this.board1Status = gameStatus.locked;\n        this.board2Status = gameStatus.locked;\n        this.forceUpdate();\n      }\n      if (data === \"aiwin\") {\n        this.winner = \"ai\";\n        this.board1Status = gameStatus.locked;\n        this.board2Status = gameStatus.locked;\n        this.forceUpdate();\n      }\n    });\n\n    this.pubsub.publish(\"gameEvent\", \"start\");\n  }\n\n  onPlayClick = () => {\n    console.log(\"hitting status\");\n    this.board2Status = gameStatus.hitting;\n    this.board1Status = gameStatus.locked;\n    this.forceUpdate();\n  };\n\n  onPlayAgain = () => {\n    window.location.reload(false);\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"card\" style={{ width: \"100%\" }}>\n          <div className=\"card-body\">\n            {this.board1Status === gameStatus.selecting && (\n              <div>\n                <div\n                  className=\"alert alert-primary\"\n                  role=\"alert\"\n                  style={{\n                    width: \"100%\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  Place the planes!\n                </div>\n                <div\n                  className=\"alert alert-info\"\n                  role=\"alert\"\n                  style={{\n                    width: \"100%\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  Drag them around, double click to rotate\n                </div>\n              </div>\n            )}\n\n            {this.board1Status === gameStatus.selecting && (\n              <div>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-dark\"\n                  onClick={this.onPlayClick.bind(this)}\n                  style={{\n                    width: \"50%\",\n                    marginLeft: \"25%\",\n                    marginRight: \"25%\",\n                  }}\n                >\n                  Play!\n                </button>\n              </div>\n            )}\n\n            {this.winner === \"player\" && (\n              <div\n                className=\"alert alert-success\"\n                role=\"alert\"\n                style={{\n                  width: \"50%\",\n                  marginLeft: \"25%\",\n                  marginRight: \"25%\",\n                  textAlign: \"center\",\n                }}\n              >\n                YOU WON!\n              </div>\n            )}\n\n            {this.winner === \"ai\" && (\n              <div\n                className=\"alert alert-danger\"\n                role=\"alert\"\n                style={{\n                  width: \"50%\",\n                  marginLeft: \"25%\",\n                  marginRight: \"25%\",\n                  textAlign: \"center\",\n                }}\n              >\n                YOU LOST!\n              </div>\n            )}\n\n            {(this.winner === \"ai\" || this.winner === \"player\") && (\n              <button\n                type=\"button\"\n                className=\"btn btn-dark\"\n                onClick={this.onPlayAgain.bind(this)}\n                style={{\n                  width: \"50%\",\n                  marginLeft: \"25%\",\n                  marginRight: \"25%\",\n                }}\n              >\n                Play again!\n              </button>\n            )}\n\n            <div className=\"container\">\n              <div className=\"row justify-content-center\">\n                <div className=\"col-auto mx-auto\" style={{ marginTop: \"10px\" }}>\n                  <GameboardUI\n                    gameStatus={this.board1Status}\n                    visible={true}\n                    boardType=\"player\"\n                    pubsub={this.pubsub}\n                  ></GameboardUI>\n                </div>\n\n                <div className=\"col-auto mx-auto\" style={{ marginTop: \"10px\" }}>\n                  {this.board1Status !== gameStatus.selecting && (\n                    <GameboardUI\n                      gameStatus={this.board2Status}\n                      visible={false}\n                      boardType=\"ai\"\n                      pubsub={this.pubsub}\n                    ></GameboardUI>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}